<html>
<head>
<title>interface ti.uia.runtime.IUIATraceSyncClient</title>
<link rel="stylesheet" type="text/css" href="../../../xdoc.css" />
</head>
<body><div id="xdocWrapper"><div id="xdocContent">
<table class="xdocHdr"><tr>
<td class="xdocHdrTitle"><span class="xdoc-kw1">interface</span> <span class="xdoc-id">ti.uia.runtime.</span><span class="xdoc-id">IUIATraceSyncClient</span></td>
<td class="xdocHdrArrow">
<a class="xdocHdrLink" href="../../../ti/uia/runtime/IUIATimestampProvider.html" title="interface IUIATimestampProvider"><img class="xdocHdrArrow" src="../../../Arrow_left.png"/></a></td>
<td class="xdocHdrArrow">
<a class="xdocHdrLink" href="../../../ti/uia/runtime/package.html" title="package ti.uia.runtime"><img class="xdocHdrArrow" src="../../../Arrow_up.png"/></a></td>
<td class="xdocHdrArrow">
<a class="xdocHdrLink" href="../../../ti/uia/runtime/IUIATraceSyncProvider.html" title="interface IUIATraceSyncProvider"><img class="xdocHdrArrow" src="../../../Arrow_right.png"/></a></td>
</table>
<div class=xdocHdrIndex><a class=xdocHdrIndex title="right-click to capture" href="../../../index.html#ti/uia/runtime/IUIATraceSyncClient.html">index URL</a></div>
<ul class="xdocToc">
</ul>
<table class="xdocLabel"><tr>
<td class="xdocLabelLeft"><tt><span class="xdoc-id">XDCspec</span></tt> summary</td>
<td class="xdocLabelRight">sourced in <a class="xdocLink" href="../../../ti/uia/runtime/IUIATraceSyncClient-src.html"><span class="xdocLabelFile">ti/uia/runtime/IUIATraceSyncClient.xdc</span></a></td>
</tr></table>
<div class="xdocSynX">
<div class="xdocSynCode">
<tt></tt><span class="xdoc-kw1">interface</span> <span class="xdoc-id">IUIATraceSyncClient</span> {<b>&nbsp;&nbsp;...</b>
</div>
<div class='xdocSynSum'><tt></tt>//&nbsp;inherits <a class="xdoc-link" href="../../../ti/uia/events/IUIAMetaProvider.html" title="ti.uia.events.IUIAMetaProvider">ti.uia.events.IUIAMetaProvider</a></div>
<div class='xdocSynSum'><tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt>//&nbsp;inherits <a class="xdoc-link" href="../../../xdc/runtime/IModule.html" title="xdc.runtime.IModule">xdc.runtime.IModule</a></div>
</div>
<span id='spec-synop'></span>
<table class="xdocLabel"><tr>
<td class="xdocLabelLeft"><tt><span class="xdoc-id">XDCspec</span></tt> declarations</td>
<td class="xdocLabelRight">sourced in <a class="xdocLink" href="../../../ti/uia/runtime/IUIATraceSyncClient-src.html"><span class="xdocLabelFile">ti/uia/runtime/IUIATraceSyncClient.xdc</span></a></td>
</tr></table>
<div class="xdocSynX">
<div class="xdocSynCode">
<tt></tt><span class="xdoc-kw1">package</span> <a class="xdoc-link" href="../../../ti/uia/runtime/package.html" title="ti.uia.runtime">ti.uia.runtime</a>;
</div>
<div class="xdocSynSpacer">&nbsp;</div>
<div class="xdocSynCode">
<tt></tt><span class="xdoc-kw1">interface</span> <span class="xdoc-id">IUIATraceSyncClient</span><span class="xdoc-kw1"> inherits </span><a class="xdoc-link" href="../../../ti/uia/events/IUIAMetaProvider.html" title="ti.uia.events.IUIAMetaProvider">IUIAMetaProvider</a> {
</div>
<div class='xdocSynHdr'>module-wide config parameters</div>

<div class="xdocSynCode">
<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt><tt></tt><span class="xdoc-kw1">config</span> <a class="xdoc-link" href="../../../ti/uia/runtime/LoggerTypes.html#.Inject.Into.Trace.Fxn" title="ti.uia.runtime.LoggerTypes.InjectIntoTraceFxn">LoggerTypes.InjectIntoTraceFxn</a>&nbsp;<a class="xdocSynGo" href="#inject.Into.Trace.Fxn"><span class="xdoc-id">injectIntoTraceFxn</span><span class="xdocSynHoverShadow"><span class="xdocSynHover">//&nbsp;Callback function that handles injection of info such as serial numbers
 of sync point events, context change events or snapshot events into a
 hardware trace stream. (e.g. GEM CPU Trace, System Trace, etc.)</span></span></a> = <span class="xdoc-kw2">null</span>;
</div>
<div class="xdocSynSpacer">&nbsp;</div>
<div class="xdocSynCode">
<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt><tt></tt><span class="xdoc-kw1">metaonly </span><span class="xdoc-kw1">config</span> <a class="xdoc-link" href="../../../xdc/runtime/Types.html#.Common$" title="xdc.runtime.Types.Common$">Types.Common$</a>&nbsp;<a class="xdocSynGo" href="#common$"><span class="xdoc-id">common$</span><span class="xdocSynHoverShadow"><span class="xdocSynHover">//&nbsp;Common module configuration parameters</span></span></a>;
</div>
<div class="xdocSynCode">
<tt>&nbsp;&nbsp;&nbsp;&nbsp;</tt><tt></tt><span class="xdoc-kw1">metaonly </span><span class="xdoc-kw1">config</span> <span class="xdoc-kw2">Bool</span>&nbsp;<a class="xdocSynGo" href="#is.Inject.Into.Trace.Enabled"><span class="xdoc-id">isInjectIntoTraceEnabled</span><span class="xdocSynHoverShadow"><span class="xdocSynHover">//&nbsp;set false to turn off injection of sync point info into trace even
  if a module that implements IUIATraceSyncProvider is configured</span></span></a> = <span class="xdoc-kw2">true</span>;
</div>
<div class="xdocSynCode">
<tt></tt>}
</div>
</div>
<div id="xdocSep">
</div>
<div id="xdocElems">
<div class="xdocSynSpacer">&nbsp;</div>
<a class="xdocAnchor" id="inject.Into.Trace.Fxn"></a>
<table class="xdocHdr"><tr>
<td class="xdocHdrTitle"><span class="xdoc-kw1">config</span> <span class="xdoc-id">IUIATraceSyncClient.</span><span class="xdoc-id">injectIntoTraceFxn</span>&nbsp;&nbsp;<small><span class="xdocSynSum">//&nbsp;module-wide</span></small></td>
<td class="xdocHdrArrow">
<a class="xdocHdrLink" href="../../../ti/uia/runtime/IUIATraceSyncClient.html" title="interface IUIATraceSyncClient"><img class="xdocHdrArrow" src="../../../Arrow_up.png"/></a></td>
</table>
<div class=xdocHdrIndex><a class=xdocHdrIndex title="right-click to capture" href="../../../index.html#ti/uia/runtime/IUIATraceSyncClient.html#inject.Into.Trace.Fxn">index URL</a></div>
<p class="xdocHdrSummaryDcl">Callback function that handles injection of info such as serial numbers
 of sync point events, context change events or snapshot events into a
 hardware trace stream. (e.g. GEM CPU Trace, System Trace, etc.)</p>
<span id='spec-synop'></span>
<table class="xdocLabel"><tr>
<td class="xdocLabelLeft"><tt><span class="xdoc-iddcl">XDCspec</span></tt> declarations</td>
<td class="xdocLabelRight">sourced in <a class="xdocLink" href="../../../ti/uia/runtime/IUIATraceSyncClient-src.html"><span class="xdocLabelFile">ti/uia/runtime/IUIATraceSyncClient.xdc</span></a></td>
</tr></table>
<div class="xdocSynXdcl">
<div class="xdocSynCode">
<tt></tt><tt></tt><span class="xdoc-kw1">config</span> <a class="xdoc-link" href="../../../ti/uia/runtime/LoggerTypes.html#.Inject.Into.Trace.Fxn" title="ti.uia.runtime.LoggerTypes.InjectIntoTraceFxn">LoggerTypes.InjectIntoTraceFxn</a>&nbsp;<span class="xdoc-id">injectIntoTraceFxn</span> = <span class="xdoc-kw2">null</span>;
</div>
</div>
<div class="xdocSynSpacer">&nbsp;</div>
<span id="xdoc-sect-1"></span>
<div class="xdocSect">DETAILS</div>
<div class="xdocText">Users can provide their own custom injectIntoTraceFxn to log whatever
 additional information they wish to record when the hook function is called.
 For example, event serial numbers can be injected into the CPU
 trace stream and / or STM trace stream in order to enable correlation
 of information logged in these streams with UIA software events.</div>
<span id="xdoc-sect-2"></span>
<div class="xdocSect">EXAMPLES</div>
<div class="xdocText"></div>
<div class="xdocText"><B>Example 1: Correlating events with C64X+ and C66 CPU Trace</B></div>
<div class="xdocText">The following is an example of the configuration script used
 to inject serial numbers of sync point events or context change events or
 snapshot Ids associated with snapshot events.</div>
<div class="xdocText">Note that the GemTraceSync module's .xs script takes care of finding
 all modules that implement the IUIATraceSyncClient and assigning the
 GemTraceSync_injectIntoTrace function pointer to those modules'
 injectIntoTraceFxn config option.</div>
<div class="xdocText"><PRE class="Example"> //The following 3 modules all implement the IUIATraceSyncClient interface
 var LogSnapshot   = xdc.useModule('ti.uia.runtime.LogSnapshot');
 var LogCtxChg   = xdc.useModule('ti.uia.runtime.LogCtxChg');
 var LogSync   = xdc.useModule('ti.uia.runtime.LogSync');
 //For C66 devices, replace the following line with
 // var GemTraceSync = xdc.useModule('ti.uia.family.c66.GemTraceSync');
 var GemTraceSync = xdc.useModule('ti.uia.family.c64p.GemTraceSync');
</PRE></div>
<div class="xdocText"><hr>
 <B>Example 2: How to create a custom hook function
 and assign it to the LogSnapshot module</B></div>
<div class="xdocText">The following is an example of a 'C' code program that implements
 a hook function that prints out the snapshot ID that is passed in
 as the serialNumber</div>
<div class="xdocText"><PRE class="Example"> #include &lt;xdc/std.h&gt;
 #include &lt;xdc/runtime/Gate.h&gt;
 #include &lt;ti/uia/runtime/IUIATraceSyncProvider.h&gt;
 #include &lt;ti/uia/runtime/LogSnapshot.h&gt;
 #include &lt;stdio.h&gt;
 #include &lt;string.h&gt;
 extern Void myHookFxn(UInt32 serialNumber, IUIATraceSyncProvider_ContextType ctxType);
 Void Test();
 char name[32]={"Bob"};
 UInt32 newAppId = 0;
 Void myHookFxn(UInt32 serialNumber, IUIATraceSyncProvider_ContextType ctxType){
      volatile UInt32 syncWord;
      IArg key = Gate_enterSystem();
      printf("newAppId written with serialNumber %d and ctxType = %d\n",serialNumber,ctxType);
      Gate_leaveSystem(key);
 }
 Void Test(){
     // note that the hook function is triggered by calling LogSnapshot_getSnapshotId()
     // since that is where the unique snapshot ID that is passed to the
     // hook function is generated.
     Int snapshotId = LogSnapshot_getSnapshotId();
     LogSnapshot_writeString(snapshotId,"User-defined name=%s.",name, strlen(name));
 }

 Void main(){
     while(TRUE){  Test();  }
  }
</PRE></div>
<div class="xdocText">In order to have the above user-defined function called by the LogSnapshot
 module whenever it writes an event, the following configuration script
 is needed:</div>
<div class="xdocText"><PRE class="Example"> var LoggingSetup = xdc.useModule('ti.uia.sysbios.LoggingSetup');
 var LogSnapshot   = xdc.useModule('ti.uia.runtime.LogSnapshot');
 var IUIATraceSyncClient = xdc.useModule('ti.uia.runtime.IUIATraceSyncClient');
 LogSnapshot.injectIntoTraceFxn = $externFxn('myHookFxn');

</PRE></div>
<span id="xdoc-sect-3"></span>
<div class="xdocSect">SEE</div>
<div class="xdocText"><a class="xdoc-link" href="LoggerTypes.html#.Inject.Into.Trace.Fxn" title="LoggerTypes.InjectIntoTraceFxn">LoggerTypes.InjectIntoTraceFxn</a>, <a class="xdoc-link" href="LogSnapshot.html" title="LogSnapshot">LogSnapshot</a></div>
<div class="xdocSynSpacer">&nbsp;</div>
<a class="xdocAnchor" id="common$"></a>
<table class="xdocHdr"><tr>
<td class="xdocHdrTitle"><span class="xdoc-kw1">metaonly </span><span class="xdoc-kw1">config</span> <span class="xdoc-id">IUIATraceSyncClient.</span><span class="xdoc-id">common$</span>&nbsp;&nbsp;<small><span class="xdocSynSum">//&nbsp;module-wide</span></small></td>
<td class="xdocHdrArrow">
<a class="xdocHdrLink" href="../../../ti/uia/runtime/IUIATraceSyncClient.html" title="interface IUIATraceSyncClient"><img class="xdocHdrArrow" src="../../../Arrow_up.png"/></a></td>
</table>
<div class=xdocHdrIndex><a class=xdocHdrIndex title="right-click to capture" href="../../../index.html#ti/uia/runtime/IUIATraceSyncClient.html#common$">index URL</a></div>
<p class="xdocHdrSummaryDcl">Common module configuration parameters</p>
<span id='spec-synop'></span>
<table class="xdocLabel"><tr>
<td class="xdocLabelLeft"><tt><span class="xdoc-iddcl">XDCspec</span></tt> declarations</td>
<td class="xdocLabelRight">sourced in <a class="xdocLink" href="../../../ti/uia/runtime/IUIATraceSyncClient-src.html"><span class="xdocLabelFile">ti/uia/runtime/IUIATraceSyncClient.xdc</span></a></td>
</tr></table>
<div class="xdocSynXdcl">
<div class="xdocSynCode">
<tt></tt><tt></tt><span class="xdoc-kw1">metaonly </span><span class="xdoc-kw1">config</span> <a class="xdoc-link" href="../../../xdc/runtime/Types.html#.Common$" title="xdc.runtime.Types.Common$">Types.Common$</a>&nbsp;<span class="xdoc-id">common$</span>;
</div>
</div>
<div class="xdocSynSpacer">&nbsp;</div>
<span id="xdoc-sect-1"></span>
<div class="xdocSect">DETAILS</div>
<div class="xdocText">All modules have this configuration parameter.  Its name
  contains the '$' character to ensure it does not conflict with
  configuration parameters declared by the module.  This allows
  new configuration parameters to be added in the future without
  any chance of breaking existing modules.</div>
<div class="xdocSynSpacer">&nbsp;</div>
<a class="xdocAnchor" id="is.Inject.Into.Trace.Enabled"></a>
<table class="xdocHdr"><tr>
<td class="xdocHdrTitle"><span class="xdoc-kw1">metaonly </span><span class="xdoc-kw1">config</span> <span class="xdoc-id">IUIATraceSyncClient.</span><span class="xdoc-id">isInjectIntoTraceEnabled</span>&nbsp;&nbsp;<small><span class="xdocSynSum">//&nbsp;module-wide</span></small></td>
<td class="xdocHdrArrow">
<a class="xdocHdrLink" href="../../../ti/uia/runtime/IUIATraceSyncClient.html" title="interface IUIATraceSyncClient"><img class="xdocHdrArrow" src="../../../Arrow_up.png"/></a></td>
</table>
<div class=xdocHdrIndex><a class=xdocHdrIndex title="right-click to capture" href="../../../index.html#ti/uia/runtime/IUIATraceSyncClient.html#is.Inject.Into.Trace.Enabled">index URL</a></div>
<p class="xdocHdrSummaryDcl">set false to turn off injection of sync point info into trace even
  if a module that implements IUIATraceSyncProvider is configured</p>
<span id='spec-synop'></span>
<table class="xdocLabel"><tr>
<td class="xdocLabelLeft"><tt><span class="xdoc-iddcl">XDCspec</span></tt> declarations</td>
<td class="xdocLabelRight">sourced in <a class="xdocLink" href="../../../ti/uia/runtime/IUIATraceSyncClient-src.html"><span class="xdocLabelFile">ti/uia/runtime/IUIATraceSyncClient.xdc</span></a></td>
</tr></table>
<div class="xdocSynXdcl">
<div class="xdocSynCode">
<tt></tt><tt></tt><span class="xdoc-kw1">metaonly </span><span class="xdoc-kw1">config</span> <span class="xdoc-kw2">Bool</span>&nbsp;<span class="xdoc-id">isInjectIntoTraceEnabled</span> = <span class="xdoc-kw2">true</span>;
</div>
</div>
<div class="xdocSynSpacer">&nbsp;</div>
<span id="xdoc-sect-1"></span>
<div class="xdocSect">DETAILS</div>
<div class="xdocText">The XDCScript associated with a module that implements IUIATraceSyncProvider
 is responsible for checking this config option for all IUIATraceSyncClient
 modules before automatically configuring the client callback function.
 This allows users to control which features have sync points injected
 into the trace stream.  For example, a user may wish to configure
 LogSync.isInjectIntoTraceEnabled = true and
 LogCtxChg.isInjectIntoTraceEnabled = false in order to reduce the number
 of sync point events injected into the trace stream.</div>
</div>
<div id="xdocDate">generated on Wed, 28 Aug 2019 19:03:39 GMT</div>
</div></div></body>
</html>
